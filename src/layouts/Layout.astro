---
interface Props {
	title?: string;
	description?: string;
}

const {
	title = "MediStrata + | Advanced Medical Data Management & Analytics",
	description = "Transforming healthcare data into actionable insights with enterprise-grade security, seamless integration, and intelligent analytics.",
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content={description} />
		<title>{title}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
		/>
	</head>
	<body>
		<slot />
	</body>
</html>

<style is:global>
	:root {
		--bg: #ffffff;
		--text: #0a0a0a;
		--muted: #666a73;
		--muted-2: #8a8f99;
		--line: #e9ecf1;
		--surface: #fcfdff;
		--accent: #0a84ff; /* medical blue, premium */
		--accent-2: #7cc4ff;
		--accent-ink: #0049a8;
		--shadow: 0 10px 30px rgba(10, 132, 255, 0.08),
			0 4px 12px rgba(0, 0, 0, 0.06);
		--radius-sm: 8px;
		--radius-md: 12px;
		--radius-lg: 16px;
		--container: 1200px;
	}

	* {
		box-sizing: border-box;
	}

	html {
		scroll-behavior: smooth;
	}

	html,
	body {
		margin: 0;
		padding: 0;
		width: 100%;
		min-height: 100%;
		font-family:
			"Inter",
			-apple-system,
			BlinkMacSystemFont,
			"Segoe UI",
			Roboto,
			Oxygen,
			Ubuntu,
			Cantarell,
			sans-serif;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		color: var(--text);
		background: var(--bg);
	}

	body {
		line-height: 1.6;
		font-size: 16px;
	}

	/* Global, ultra-subtle tactile noise overlay */
	body::before {
		content: "";
		position: fixed;
		inset: 0;
		pointer-events: none;
		background-image: url("/accents/noise.svg");
		background-size: 160px 160px;
		opacity: 0.035; /* keep extremely subtle for medical cleanliness */
		z-index: 0;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		line-height: 1.2;
		font-weight: 600;
		font-family:
			"Space Grotesk",
			Inter,
			-apple-system,
			BlinkMacSystemFont,
			"Segoe UI",
			Roboto,
			Oxygen,
			Ubuntu,
			Cantarell,
			sans-serif;
	}

	p {
		margin: 0 0 1rem 0;
	}

	a {
		color: inherit;
		text-decoration: none;
	}
	a:focus-visible {
		outline: 3px solid color-mix(in srgb, var(--accent) 30%, transparent);
		outline-offset: 2px;
		border-radius: 6px;
	}

	img {
		max-width: 100%;
		height: auto;
	}

	/* Utility classes */
	.text-center {
		text-align: center;
	}
	.container {
		max-width: var(--container);
		margin: 0 auto;
		padding: 0 2rem;
	}

	/* Smooth scroll offset for fixed header */
	:target {
		scroll-margin-top: 100px;
	}

	@media (max-width: 768px) {
		.container {
			padding: 0 1.25rem;
		}
	}

	/* Premium surfaces & utility tokens */
	.surface {
		background: var(--surface);
		border: 1px solid var(--line);
		border-radius: var(--radius-lg);
		box-shadow: var(--shadow);
	}

	.hr-accent {
		height: 1px;
		background: linear-gradient(
			90deg,
			transparent,
			color-mix(in srgb, var(--accent) 25%, transparent) 20%,
			color-mix(in srgb, var(--accent) 55%, transparent) 50%,
			color-mix(in srgb, var(--accent) 25%, transparent) 80%,
			transparent
		);
		border: 0;
	}

	.grid-ambient {
		position: relative;
		isolation: isolate;
	}
	.grid-ambient::before {
		content: "";
		position: absolute;
		inset: 0;
		z-index: -1;
		pointer-events: none;
		background: radial-gradient(
				600px 300px at 80% 10%,
				color-mix(in srgb, var(--accent) 8%, transparent),
				transparent 60%
			),
			repeating-linear-gradient(
				0deg,
				rgba(10, 10, 10, 0.04) 0px,
				rgba(10, 10, 10, 0.04) 1px,
				transparent 1px,
				transparent 24px
			),
			repeating-linear-gradient(
				90deg,
				rgba(10, 10, 10, 0.04) 0px,
				rgba(10, 10, 10, 0.04) 1px,
				transparent 1px,
				transparent 24px
			);
		mask: radial-gradient(
			1200px 600px at 50% 10%,
			black 40%,
			transparent 100%
		);
	}

	/* Buttons */
	.btn {
		padding: 0.9rem 1.4rem;
		font-size: 1rem;
		font-weight: 600;
		border-radius: var(--radius-md);
		border: 1px solid transparent;
		display: inline-flex;
		align-items: center;
		gap: 0.6rem;
		cursor: pointer;
		transition:
			transform 0.2s ease,
			box-shadow 0.2s ease,
			background 0.2s ease,
			color 0.2s ease,
			border-color 0.2s ease;
	}
	.btn-primary {
		background: var(--accent);
		color: #fff;
		box-shadow: 0 8px 24px rgba(10, 132, 255, 0.25);
	}
	.btn-primary:hover {
		transform: translateY(-2px);
		box-shadow: 0 16px 36px rgba(10, 132, 255, 0.28);
	}
	.btn-outline {
		background: transparent;
		color: var(--accent);
		border-color: color-mix(in srgb, var(--accent) 60%, #bcd5ff);
	}
	.btn-outline:hover {
		background: color-mix(in srgb, var(--accent) 8%, transparent);
		color: var(--accent-ink);
	}

	/* Form inputs */
	.input,
	input[type="text"],
	input[type="email"],
	textarea {
		background: #fff;
		border: 1px solid var(--line);
		border-radius: var(--radius-sm);
		padding: 0.85rem 1rem;
		font: inherit;
		transition:
			border-color 0.2s ease,
			box-shadow 0.2s ease;
	}
	.input:focus,
	input[type="text"]:focus,
	input[type="email"]:focus,
	textarea:focus {
		outline: none;
		border-color: var(--accent);
		box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent) 18%, transparent);
	}

	/* Headings scale with clamp for a premium rhythm */
	.display-1 {
		font-family:
			"Space Grotesk",
			Inter,
			system-ui,
			-apple-system,
			Segoe UI,
			Roboto,
			sans-serif;
		font-weight: 700;
		letter-spacing: -0.02em;
		line-height: 1.05;
		font-size: clamp(2.6rem, 6vw, 4.25rem);
	}
	.kicker {
		font-size: 0.8125rem;
		letter-spacing: 0.14em;
		text-transform: uppercase;
		color: var(--muted-2);
		font-weight: 700;
	}

	/* Easter egg: hide the word-pool section by default; revealed when unlocked */
	.section#word-pool {
		display: none !important;
	}

	.section#word-pool.revealed {
		display: block !important;
	}
</style>

<script>
	(function () {
		// Reveal the #word-pool when the logo is clicked 5 times quickly.
		const CLICK_COUNT = 5;
		const CLICK_TIMEOUT = 800; // ms to reset count
		let clicks = 0;
		/** @type {number | null} */
		let clickTimer = null;

		function revealPool() {
			const el = document.getElementById("word-pool");
			if (!el) return;
			el.classList.add("revealed");
			// transient reveal only â€” do NOT persist to localStorage so refresh hides it again
			// small toast
			const flash = document.createElement("div");
			flash.textContent = "Pool unlocked!";
			Object.assign(flash.style, {
				position: "fixed",
				left: "50%",
				top: "12%",
				transform: "translateX(-50%)",
				background: "rgba(0,0,0,0.8)",
				color: "#fff",
				padding: "8px 12px",
				borderRadius: "6px",
				zIndex: 9999,
			});
			document.body.appendChild(flash);
			setTimeout(() => flash.remove(), 1200);
		}

		// attach to logo
		window.addEventListener("DOMContentLoaded", () => {
			const logo = document.querySelector(".logo");
			if (logo) {
				logo.addEventListener("click", (e) => {
					clicks++;
					if (clickTimer) clearTimeout(clickTimer);
					clickTimer = window.setTimeout(() => {
						clicks = 0;
						clickTimer = null;
					}, CLICK_TIMEOUT);
					if (clicks >= CLICK_COUNT) {
						revealPool();
						// notify any listeners (e.g., canvas) that the pool was revealed so they can reinitialize sizing
						try {
							window.dispatchEvent(
								new CustomEvent("pool:revealed"),
							);
						} catch (e) {
							// ignore
						}
						clicks = 0;
					}
				});
			}

			// Do not auto-reveal on load; pool remains hidden until the user triggers it.
		});
	})();
</script>
